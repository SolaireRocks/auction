
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auction Item Analysis</title>
    <style>
        :root {
            --bg-color: #1a1a1a; --table-bg-color: #2c2c2c; --header-bg-color: #3a3a3a;
            --header-hover-bg-color: #4a4a4a; --row-even-bg-color: #333333; --row-odd-bg-color: #2c2c2c;
            --border-color: #444444; --text-color: #e0e0e0; --link-color: #4a90e2;
            --link-hover-color: #81b5f5; --sort-indicator-color: #81b5f5;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); margin: 0; padding: 2rem; line-height: 1.6; }
        h1 { text-align: center; color: #ffffff; font-weight: 300; margin-bottom: 2rem; }
        .controls-container { max-width: 1600px; margin: auto; margin-bottom: 1rem; }
        .filter-container { text-align: left; padding: 10px 15px; background-color: var(--table-bg-color); border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); }
        .filter-container label { margin-right: 20px; font-size: 0.9em; cursor: pointer; user-select: none; }
        .filter-container input { vertical-align: middle; margin-right: 5px; }
        .table-container { max-width: 1600px; margin: auto; overflow-x: auto; border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); }
        table { width: 100%; border-collapse: collapse; background-color: var(--table-bg-color); border-spacing: 0; }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid var(--border-color); }
        thead th { background-color: var(--header-bg-color); color: #ffffff; font-weight: 600; position: sticky; top: 0; z-index: 10; }
        thead th[data-column] { cursor: pointer; transition: background-color 0.2s ease-in-out; user-select: none; }
        thead th[data-column]:hover { background-color: var(--header-hover-bg-color); }
        tbody tr:not(.reasoning-row):hover { background-color: var(--header-hover-bg-color); }
        td { font-size: 0.95em; }
        td:nth-child(4), td:nth-child(5), td:nth-child(6) { font-family: 'Courier New', Courier, monospace; text-align: right; white-space: nowrap; }
        td:nth-child(7), td:nth-child(8) { text-align: center; }
        a { color: var(--link-color); text-decoration: none; transition: color 0.2s ease-in-out; }
        a:hover { color: var(--link-hover-color); text-decoration: underline; }
        .sort-indicator { color: var(--sort-indicator-color); font-size: 0.8em; margin-left: 8px; display: inline-block; width: 10px; }
        .lot-main td { font-weight: bold; }
        .lot-main.expandable { cursor: pointer; }
        .lot-main:nth-child(4n+1), .lot-main:nth-child(4n+2) { background-color: var(--row-odd-bg-color); }
        .lot-main:nth-child(4n+3), .lot-main:nth-child(4n) { background-color: var(--row-even-bg-color); }
        .lot-sub-item { background-color: rgba(0,0,0,0.15) !important; }
        .lot-sub-item td { font-size: 0.9em; color: #c0c0c0; border-color: #383838; }
        .lot-sub-item td:nth-child(2) { padding-left: 35px; }
        .reasoning-row { display: none; background-color: #222 !important; }
        .reasoning-row.visible { display: table-row; }
        .reasoning-row td {
            padding: 10px 20px 10px 40px;
            font-style: italic;
            color: #b0b0b0;
            border-top: 1px dashed #555;
            white-space: normal;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <h1>Auction Item Analysis</h1>
    <div class="controls-container">
        <div class="filter-container">
            <label><input type="checkbox" id="hideFurniture"> Hide Large Furniture</label>
            <label><input type="checkbox" id="hideMedical"> Hide Medical Devices</label>
        </div>
    </div>
    <div class="table-container"><table><thead><tr><th data-column="lot_number">Lot # <span class="sort-indicator"></span></th><th data-column="name">Item Name <span class="sort-indicator"></span></th><th data-column="category">Category <span class="sort-indicator"></span></th><th data-column="price">AI Market Value <span class="sort-indicator"></span></th><th data-column="ebay_price">eBay Avg. Sold <span class="sort-indicator"></span></th><th data-column="confidence">Confidence <span class="sort-indicator"></span></th><th>eBay Search</th><th>Google Search</th></tr></thead><tbody id="data-table-body"></tbody></table></div>

<script type="application/json" id="auctionData">
    [
    {
        "ebay_search_title": "Biro Pro 9 HD Sir Steak Meat Tenderizer",
        "category": "Tools/Equipment",
        "is_shippable": true,
        "total_market_value": 1200,
        "items": [
            {
                "item_name": "Biro Pro 9 HD Sir Steak Meat Tenderizer",
                "estimated_value": 1200,
                "ebay_avg_price": 775.0
            }
        ],
        "original_listing": {
            "post_id": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=rEwXhVx8%2bloMtEjzxMewNQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=G4mQbJCG3OeOYf%2bdKVKz5g%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "title": "Biro | Biro Model Pro 9 Sir Steak Heavy Duty Meat Tenderizer, Powers On Great Working Condition, Very Clean!",
            "lot_number": 3,
            "url": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=rEwXhVx8%2bloMtEjzxMewNQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=G4mQbJCG3OeOYf%2bdKVKz5g%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "pics": [
                "G4mQbJCG3OeOYfdKVKz5g_1.jpg",
                "G4mQbJCG3OeOYfdKVKz5g_2.jpg",
                "G4mQbJCG3OeOYfdKVKz5g_3.jpg",
                "G4mQbJCG3OeOYfdKVKz5g_4.jpg",
                "G4mQbJCG3OeOYfdKVKz5g_5.jpg"
            ]
        },
        "reasoning": "This is a valuable countertop commercial unit from a reputable brand. The value is high due to its excellent, clean condition, which is paramount for food equipment, especially the blade assembly. The description confirms it powers on. It is a shippable item, although heavy, which widens the potential market. Expert advice: The plastic safety cover is often cracked or missing on these; the fact that this one is intact is a bonus and should be highlighted in a resale listing. Year 200X. 5 Pics analyzed",
        "lot_number": 3,
        "ebay_avg_price": 775.0,
        "ebay_confidence_score": 30,
        "ebay_search_url": "https://www.ebay.com/sch/i.html?_from=R40&_nkw=Biro+Pro+9+HD+Sir+Steak+Meat+Tenderizer&_sacat=0&LH_Complete=1&LH_Sold=1"
    },
    {
        "ebay_search_title": "BIRO Model 3334 Commercial Meat Bone Band Saw",
        "category": "Tools/Equipment",
        "is_shippable": false,
        "total_market_value": 2500,
        "items": [
            {
                "item_name": "BIRO Model 3334 Commercial Stainless Steel Meat & Bone Band Saw",
                "estimated_value": 2500
            }
        ],
        "original_listing": {
            "post_id": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=rEwXhVx8%2bloMtEjzxMewNQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=eh8cPSle8YYEUrqKiMY4Qg%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "title": "BIRO | Biro Model 3334 Commercial Meat/Bone Saw, Very Clean Great Condition!",
            "lot_number": 1,
            "url": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=rEwXhVx8%2bloMtEjzxMewNQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=eh8cPSle8YYEUrqKiMY4Qg%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "pics": [
                "eh8cPSle8YYEUrqKiMY4Qg_1.jpg",
                "eh8cPSle8YYEUrqKiMY4Qg_2.jpg",
                "eh8cPSle8YYEUrqKiMY4Qg_3.jpg",
                "eh8cPSle8YYEUrqKiMY4Qg_4.jpg",
                "eh8cPSle8YYEUrqKiMY4Qg_5.jpg",
                "eh8cPSle8YYEUrqKiMY4Qg_6.jpg",
                "eh8cPSle8YYEUrqKiMY4Qg_7.jpg",
                "eh8cPSle8YYEUrqKiMY4Qg_8.jpg",
                "eh8cPSle8YYEUrqKiMY4Qg_9.jpg"
            ]
        },
        "reasoning": "The valuation is based on comparable sales of this high-end commercial band saw. BIRO is a premium brand, and the 'very clean' condition is a major selling point for food processing equipment. These units are built to last and retain value well. Expert advice: Before selling, confirm the blade tensioner operates smoothly and the motor runs without any unusual noises. Showing a video of it running can significantly increase buyer confidence and the final sale price. This is a freight-only item. Year 200X. 9 Pics analyzed",
        "lot_number": 1,
        "ebay_search_url": "https://www.ebay.com/sch/i.html?_from=R40&_nkw=BIRO+Model+3334+Commercial+Meat+Bone+Band+Saw&_sacat=0&LH_Complete=1&LH_Sold=1"
    },
    {
        "ebay_search_title": "Hobart 4346 Commercial Meat Mixer Grinder",
        "category": "Tools/Equipment",
        "is_shippable": false,
        "total_market_value": 5500,
        "items": [
            {
                "item_name": "Hobart Model 4346 Commercial Meat Mixer Grinder with Foot Pedal",
                "estimated_value": 5500
            }
        ],
        "original_listing": {
            "post_id": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=rEwXhVx8%2bloMtEjzxMewNQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=Eun7G5nig8eh8H0Hblit9Q%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "title": "HOBART | Hobart 4346 Meat Mixer Grinder Sausage Mill Butcher Machine W/ Foot Pedal, Removed From Working Grocery Store",
            "lot_number": 2,
            "url": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=rEwXhVx8%2bloMtEjzxMewNQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=Eun7G5nig8eh8H0Hblit9Q%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "pics": [
                "Eun7G5nig8eh8H0Hblit9Q_1.jpg",
                "Eun7G5nig8eh8H0Hblit9Q_2.jpg",
                "Eun7G5nig8eh8H0Hblit9Q_3.jpg",
                "Eun7G5nig8eh8H0Hblit9Q_4.jpg",
                "Eun7G5nig8eh8H0Hblit9Q_5.jpg",
                "Eun7G5nig8eh8H0Hblit9Q_6.jpg",
                "Eun7G5nig8eh8H0Hblit9Q_7.jpg",
                "Eun7G5nig8eh8H0Hblit9Q_8.jpg"
            ]
        },
        "reasoning": "Hobart is the industry leader for this type of equipment, commanding high resale values. The model 4346 is a heavy-duty, desirable unit. The stated history ('Removed From Working Grocery Store') and the inclusion of the foot pedal are significant value enhancers. The clean interior suggests it was well-maintained. Expert advice: Verify that all grinder plates and the stomper are included. These accessories are expensive and their absence would lower the value. Documenting its working state with a video is essential for a high-value sale. Year 200X. 8 Pics analyzed",
        "lot_number": 2,
        "ebay_search_url": "https://www.ebay.com/sch/i.html?_from=R40&_nkw=Hobart+4346+Commercial+Meat+Mixer+Grinder&_sacat=0&LH_Complete=1&LH_Sold=1"
    },
    {
        "ebay_search_title": "Jungheinrich EJE 120 Electric Walkie Pallet Jack",
        "category": "Tools/Equipment",
        "is_shippable": false,
        "total_market_value": 900,
        "items": [
            {
                "item_name": "Jungheinrich EJE 120 Electric Walkie Pallet Jack 4500 lb Capacity",
                "estimated_value": 900
            }
        ],
        "original_listing": {
            "post_id": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=rEwXhVx8%2bloMtEjzxMewNQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=489h7IZbA0z1mXXBFi9ifA%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "title": "Tow lift | 4,500 / 6,000 lb. Capacity Electric Walkie Pallet Trucks, Powers On And Working!",
            "lot_number": 4,
            "url": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=rEwXhVx8%2bloMtEjzxMewNQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=489h7IZbA0z1mXXBFi9ifA%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "pics": [
                "489h7IZbA0z1mXXBFi9ifA_1.jpg",
                "489h7IZbA0z1mXXBFi9ifA_2.jpg",
                "489h7IZbA0z1mXXBFi9ifA_3.jpg",
                "489h7IZbA0z1mXXBFi9ifA_4.jpg",
                "489h7IZbA0z1mXXBFi9ifA_5.jpg",
                "489h7IZbA0z1mXXBFi9ifA_6.jpg",
                "489h7IZbA0z1mXXBFi9ifA_7.jpg",
                "489h7IZbA0z1mXXBFi9ifA_8.jpg",
                "489h7IZbA0z1mXXBFi9ifA_9.jpg"
            ]
        },
        "reasoning": "The brand is Jungheinrich, a quality manufacturer, and the model appears to be EJE 120. Towlift is a distributor. The value of any used electric pallet jack is heavily dependent on the condition of its batteries. While the listing says it works and the indicator is green, the battery life is unknown. This estimate is conservative, assuming the batteries hold a reasonable charge for light use. Expert Advice: The key to maximizing value is to test and document the battery health. Charge it fully, then use it under load and time how long it lasts. Providing this information to a potential buyer can increase the price by 50% or more, as it removes the biggest point of uncertainty. Year 201X. 9 Pics analyzed",
        "lot_number": 4,
        "ebay_search_url": "https://www.ebay.com/sch/i.html?_from=R40&_nkw=Jungheinrich+EJE+120+Electric+Walkie+Pallet+Jack&_sacat=0&LH_Complete=1&LH_Sold=1"
    }
]
</script>

<script>
    const fullJsonData = JSON.parse(document.getElementById('auctionData').textContent);
    let currentFilteredData = [...fullJsonData];
    
    const tableBody = document.getElementById('data-table-body');
    const headers = document.querySelectorAll('thead th[data-column]');
    const hideFurnitureCheckbox = document.getElementById('hideFurniture');
    const hideMedicalCheckbox = document.getElementById('hideMedical');

    let currentSort = { column: 'ebay_price', isAscending: false };

    function applyFiltersAndRepopulate() {
        const hideFurniture = hideFurnitureCheckbox.checked;
        const hideMedical = hideMedicalCheckbox.checked;

        currentFilteredData = fullJsonData.filter(lot => {
            const category = (lot.category || '').toLowerCase();
            if (hideFurniture && category === 'large furniture') {
                return false;
            }
            if (hideMedical && category === 'medical devices') {
                return false;
            }
            return true;
        });

        sortData(currentSort.column, true);
    }

    function populateTable() {
        tableBody.innerHTML = '';
        const formatCurrency = (value) => (value || 0).toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 });
        const sanitizeText = (text) => (text || 'No reasoning provided.');

        currentFilteredData.forEach(lot => {
            const hasReasoning = lot.reasoning && lot.reasoning.trim() !== '';
            
            const mainRow = document.createElement('tr');
            mainRow.className = 'lot-main' + (hasReasoning ? ' expandable' : '');
            
            const encodedSearch = encodeURIComponent(lot.ebay_search_title || '');
            
            mainRow.innerHTML = `
                <td>${lot.lot_number > 0 ? lot.lot_number : ''}</td>
                <td><a href="${lot.original_listing.url}" target="_blank" title="${lot.original_listing.title}">${lot.ebay_search_title || 'N/A'}</a></td>
                <td>${lot.category || 'Miscellaneous'}</td>
                <td style="text-align: right;">${formatCurrency(lot.total_market_value)}</td>
                <td style="text-align: right;">${lot.ebay_avg_price > 0 ? formatCurrency(lot.ebay_avg_price) : 'N/A'}</td>
                <td style="text-align: right;">${lot.ebay_confidence_score > 0 ? lot.ebay_confidence_score + '%' : 'N/A'}</td>
                <td style="text-align: center;"><a href="${lot.ebay_search_url || '#'}" target="_blank">eBay</a></td>
                <td style="text-align: center;"><a href="https://www.google.com/search?q=${encodedSearch}" target="_blank">Google</a></td>
            `;
            
            tableBody.appendChild(mainRow);
            
            if (hasReasoning) {
                const reasoningRow = document.createElement('tr');
                reasoningRow.className = 'reasoning-row';
                reasoningRow.innerHTML = `<td colspan="8">${sanitizeText(lot.reasoning)}</td>`;
                tableBody.appendChild(reasoningRow);

                mainRow.addEventListener('click', () => {
                    reasoningRow.classList.toggle('visible');
                });
            }

            if (lot.items && lot.items.length > 1) {
                lot.items.forEach(subItem => {
                    const subRow = document.createElement('tr');
                    subRow.className = 'lot-sub-item';
                    
                    const subAvgPrice = subItem.ebay_avg_price || 0;
                    const subEncodedSearch = encodeURIComponent(subItem.item_name || '');
                    const subEbayUrl = `https://www.ebay.com/sch/i.html?_from=R40&_nkw=${subEncodedSearch}&_sacat=0&LH_Complete=1&LH_Sold=1`;
                    const subGoogleUrl = `https://www.google.com/search?q=${subEncodedSearch}`;

                    subRow.innerHTML = `
                        <td></td>
                        <td style="padding-left: 35px;">${subItem.item_name || 'N/A'}</td>
                        <td></td>
                        <td style="text-align: right;">${formatCurrency(subItem.estimated_value)}</td>
                        <td style="text-align: right;">${subAvgPrice > 0 ? formatCurrency(subAvgPrice) : 'N/A'}</td>
                        <td></td>
                        <td style="text-align: center;"><a href="${subEbayUrl}" target="_blank">eBay</a></td>
                        <td style="text-align: center;"><a href="${subGoogleUrl}" target="_blank">Google</a></td>
                    `;
                    tableBody.appendChild(subRow);
                });
            }
        });
    }

    function sortData(column, keepDirection = false) {
        const isNumeric = ['price', 'ebay_price', 'lot_number', 'confidence'].includes(column);

        if (!keepDirection) {
            if (currentSort.column === column) {
                currentSort.isAscending = !currentSort.isAscending;
            } else {
                currentSort.column = column;
                currentSort.isAscending = !isNumeric;
            }
        } else if (currentSort.column !== column) {
             currentSort.column = column;
             currentSort.isAscending = !isNumeric;
        }

        currentFilteredData.sort((a, b) => {
            let valA, valB;
            switch (column) {
                case 'price': valA = a.total_market_value || 0; valB = b.total_market_value || 0; break;
                case 'ebay_price': valA = a.ebay_avg_price || 0; valB = b.ebay_avg_price || 0; break;
                case 'confidence': valA = a.ebay_confidence_score || 0; valB = b.ebay_confidence_score || 0; break;
                case 'lot_number': valA = a.lot_number || 0; valB = b.lot_number || 0; break;
                case 'name': valA = (a.ebay_search_title || '').toLowerCase(); valB = (b.ebay_search_title || '').toLowerCase(); break;
                case 'category': valA = (a.category || '').toLowerCase(); valB = (b.category || '').toLowerCase(); break;
                default: return 0;
            }
            let comparison = 0;
            if (valA > valB) { comparison = 1; }
            else if (valA < valB) { comparison = -1; }
            return currentSort.isAscending ? comparison : comparison * -1;
        });
        updateSortIndicators();
        populateTable();
    }

    function updateSortIndicators() {
        headers.forEach(header => {
            const indicator = header.querySelector('.sort-indicator');
            if (header.dataset.column === currentSort.column) {
                indicator.textContent = currentSort.isAscending ? ' ▲' : ' ▼';
            } else { indicator.textContent = ''; }
        });
    }

    headers.forEach(header => { header.addEventListener('click', () => { sortData(header.dataset.column); }); });
    hideFurnitureCheckbox.addEventListener('change', applyFiltersAndRepopulate);
    hideMedicalCheckbox.addEventListener('change', applyFiltersAndRepopulate);

    sortData('ebay_price');
</script>

    <div style="text-align: center; margin-top: 2rem; font-size: 0.8em; color: #888;">
        <p>Analysis powered by:</p>
        <p><strong>Auction Analysis Model:</strong> gemini-2.5-pro (Gemini)</p>
        <p><strong>eBay Cleaning Model(s):</strong> gemini-flash-latest (Gemini)</p>
    </div>

</body>
</html>
