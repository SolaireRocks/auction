
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auction Item Analysis</title>
    <style>
        :root {
            --bg-color: #1a1a1a; --table-bg-color: #2c2c2c; --header-bg-color: #3a3a3a;
            --header-hover-bg-color: #4a4a4a; --row-even-bg-color: #333333; --row-odd-bg-color: #2c2c2c;
            --border-color: #444444; --text-color: #e0e0e0; --link-color: #4a90e2;
            --link-hover-color: #81b5f5; --sort-indicator-color: #81b5f5;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); margin: 0; padding: 2rem; line-height: 1.6; }
        h1 { text-align: center; color: #ffffff; font-weight: 300; margin-bottom: 2rem; }
        .controls-container { max-width: 1600px; margin: auto; margin-bottom: 1rem; }
        .filter-container { text-align: left; padding: 10px 15px; background-color: var(--table-bg-color); border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); }
        .filter-container label { margin-right: 20px; font-size: 0.9em; cursor: pointer; user-select: none; }
        .filter-container input { vertical-align: middle; margin-right: 5px; }
        .table-container { max-width: 1600px; margin: auto; overflow-x: auto; border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); }
        table { width: 100%; border-collapse: collapse; background-color: var(--table-bg-color); border-spacing: 0; }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid var(--border-color); }
        thead th { background-color: var(--header-bg-color); color: #ffffff; font-weight: 600; position: sticky; top: 0; z-index: 10; }
        thead th[data-column] { cursor: pointer; transition: background-color 0.2s ease-in-out; user-select: none; }
        thead th[data-column]:hover { background-color: var(--header-hover-bg-color); }
        tbody tr:not(.reasoning-row):hover { background-color: var(--header-hover-bg-color); }
        td { font-size: 0.95em; }
        td:nth-child(4), td:nth-child(5), td:nth-child(6) { font-family: 'Courier New', Courier, monospace; text-align: right; white-space: nowrap; }
        td:nth-child(7), td:nth-child(8) { text-align: center; }
        a { color: var(--link-color); text-decoration: none; transition: color 0.2s ease-in-out; }
        a:hover { color: var(--link-hover-color); text-decoration: underline; }
        .sort-indicator { color: var(--sort-indicator-color); font-size: 0.8em; margin-left: 8px; display: inline-block; width: 10px; }
        .lot-main td { font-weight: bold; }
        .lot-main.expandable { cursor: pointer; }
        .lot-main:nth-child(4n+1), .lot-main:nth-child(4n+2) { background-color: var(--row-odd-bg-color); }
        .lot-main:nth-child(4n+3), .lot-main:nth-child(4n) { background-color: var(--row-even-bg-color); }
        .lot-sub-item { background-color: rgba(0,0,0,0.15) !important; }
        .lot-sub-item td { font-size: 0.9em; color: #c0c0c0; border-color: #383838; }
        .lot-sub-item td:nth-child(2) { padding-left: 35px; }
        .reasoning-row { display: none; background-color: #222 !important; }
        .reasoning-row.visible { display: table-row; }
        .reasoning-row td {
            padding: 10px 20px 10px 40px;
            font-style: italic;
            color: #b0b0b0;
            border-top: 1px dashed #555;
            white-space: normal;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <h1>Auction Item Analysis</h1>
    <div class="controls-container">
        <div class="filter-container">
            <label><input type="checkbox" id="hideFurniture"> Hide Large Furniture</label>
            <label><input type="checkbox" id="hideMedical"> Hide Medical Devices</label>
        </div>
    </div>
    <div class="table-container"><table><thead><tr><th data-column="lot_number">Lot # <span class="sort-indicator"></span></th><th data-column="name">Item Name <span class="sort-indicator"></span></th><th data-column="category">Category <span class="sort-indicator"></span></th><th data-column="price">AI Market Value <span class="sort-indicator"></span></th><th data-column="ebay_price">eBay Avg. Sold <span class="sort-indicator"></span></th><th data-column="confidence">Confidence <span class="sort-indicator"></span></th><th>eBay Search</th><th>Google Search</th></tr></thead><tbody id="data-table-body"></tbody></table></div>

<script type="application/json" id="auctionData">
    [
    {
        "ebay_search_title": "5 in 1 Digital Heat Press Machine 12x15 360\u00b0 Swing Away Sublimation Transfer Pink",
        "category": "Tools/Equipment",
        "is_shippable": true,
        "total_market_value": 140,
        "items": [
            {
                "item_name": "5 in 1 Digital Heat Press Machine 12x15 360\u00b0 Swing Away Sublimation Transfer Pink",
                "estimated_value": 140,
                "ebay_avg_price": 168.3725
            }
        ],
        "original_listing": {
            "post_id": "https://bid.westlakeliquidation.com/ui/auctions/149863/21704305",
            "title": "Heat Press 12x15, 5 in 1 Heat Press Machine 360\u00b0 Swing Away, Pink Sublimation Heat Press Digital Heat Transfer with 11oz Tumbler Press Machine, Heat Press Machine for Hat Cap Mug Plate",
            "lot_number": 4,
            "url": "https://bid.westlakeliquidation.com/ui/auctions/149863/21704305",
            "pics": [
                "21704305_1.jpg"
            ]
        },
        "reasoning": "The value is determined by the specific functionality (5-in-1 capability, including the tumbler press attachment) and the size (12x15 platen). This equipment is highly sought after by small business owners and crafters. Reseller advice: Highlight the 'pink' color, as it often attracts a dedicated buyer base and can sometimes command a slight premium. Verify that all 5 attachments are present and functioning, as the '5 in 1' feature is the main selling point.",
        "lot_number": 4,
        "ebay_avg_price": 168.3725,
        "ebay_confidence_score": 90,
        "ebay_search_url": "https://www.ebay.com/sch/i.html?_from=R40&_nkw=5+in+1+Digital+Heat+Press+Machine+12x15+360%C2%B0+Swing+Away+Sublimation+Transfer+Pink&_sacat=0&LH_Complete=1&LH_Sold=1"
    },
    {
        "ebay_search_title": "PulseVib V30 Pro MERACH Whole Body Vibration Plate Exercise Machine Pink",
        "category": "Miscellaneous",
        "is_shippable": true,
        "total_market_value": 90,
        "items": [
            {
                "item_name": "PulseVib V30 Pro MERACH Whole Body Vibration Plate Exercise Machine Pink",
                "estimated_value": 90,
                "ebay_avg_price": 96.20444444444445
            }
        ],
        "original_listing": {
            "post_id": "https://bid.westlakeliquidation.com/ui/auctions/149863/21704224",
            "title": "PulseVib V30 Pro Whole Body Vibration Plate",
            "lot_number": 3,
            "url": "https://bid.westlakeliquidation.com/ui/auctions/149863/21704224",
            "pics": [
                "21704224_1.jpg"
            ]
        },
        "reasoning": "The value is based on comparable sales for entry-level, whole-body vibration plates from brands like MERACH/PulseVib, which are popular home fitness items. Reseller advice: Emphasize the brand (MERACH) and model (V30 Pro) in the listing. Ensure the remote control and any stabilizing pads are included and clearly photographed, as these are critical accessories that buyers look for.",
        "lot_number": 3,
        "ebay_avg_price": 96.20444444444445,
        "ebay_confidence_score": 60,
        "ebay_search_url": "https://www.ebay.com/sch/i.html?_from=R40&_nkw=PulseVib+V30+Pro+MERACH+Whole+Body+Vibration+Plate+Exercise+Machine+Pink&_sacat=0&LH_Complete=1&LH_Sold=1"
    },
    {
        "ebay_search_title": "XANCHEER Quiet Electric Under Desk Elliptical Machine Pedal Exerciser 12 Speed",
        "category": "Miscellaneous",
        "is_shippable": true,
        "total_market_value": 130,
        "items": [
            {
                "item_name": "XANCHEER Quiet Electric Under Desk Elliptical Machine Pedal Exerciser 12 Speed",
                "estimated_value": 130,
                "ebay_avg_price": 94.1136
            }
        ],
        "original_listing": {
            "post_id": "https://bid.westlakeliquidation.com/ui/auctions/149863/21704514",
            "title": "Under Desk Elliptical Machine, Quiet Electric Pedal Exerciser w/12 Speed Settings",
            "lot_number": 7,
            "url": "https://bid.westlakeliquidation.com/ui/auctions/149863/21704514",
            "pics": [
                "21704514_1.jpg"
            ]
        },
        "reasoning": "Motorized under-desk ellipticals are high-demand items, especially those marketed as quiet. The value is based on its functionality and the identified brand (XANCHEER). Reseller advice: Emphasize 'Quiet' and 'Electric' in the listing, as manual or loud units have significantly lower resale appeal. Always verify that the included remote control and power supply are functional and present before listing, as these are essential for electric models.",
        "lot_number": 7,
        "ebay_avg_price": 94.1136,
        "ebay_confidence_score": 95,
        "ebay_search_url": "https://www.ebay.com/sch/i.html?_from=R40&_nkw=XANCHEER+Quiet+Electric+Under+Desk+Elliptical+Machine+Pedal+Exerciser+12+Speed&_sacat=0&LH_Complete=1&LH_Sold=1"
    },
    {
        "ebay_search_title": "MERACH Whole Body Vibration Plate Exercise Machine Black w/ Resistance Bands",
        "category": "Miscellaneous",
        "is_shippable": true,
        "total_market_value": 100,
        "items": [
            {
                "item_name": "MERACH Whole Body Vibration Plate Exercise Machine Black w/ Resistance Bands",
                "estimated_value": 100,
                "ebay_avg_price": 71.85259259259259
            }
        ],
        "original_listing": {
            "post_id": "https://bid.westlakeliquidation.com/ui/auctions/149863/21704368",
            "title": "MERACH Vibration Plate Exercise Machine for Whole Body Workout, Lymphatic Drainage and Fitness",
            "lot_number": 5,
            "url": "https://bid.westlakeliquidation.com/ui/auctions/149863/21704368",
            "pics": [
                "21704368_1.jpg"
            ]
        },
        "reasoning": "This is a standard MERACH vibration plate, valued slightly higher than generic models due to the brand recognition and the inclusion of useful accessories like resistance bands. Reseller advice: When listing vibration plates, clearly state the weight capacity if known (e.g., 300 lbs) as this is a critical specification for potential buyers and helps reduce returns based on unstated limitations.",
        "lot_number": 5,
        "ebay_avg_price": 71.85259259259259,
        "ebay_confidence_score": 85,
        "ebay_search_url": "https://www.ebay.com/sch/i.html?_from=R40&_nkw=MERACH+Whole+Body+Vibration+Plate+Exercise+Machine+Black+w%2F+Resistance+Bands&_sacat=0&LH_Complete=1&LH_Sold=1"
    },
    {
        "ebay_search_title": "MERACH Round Whole Body Vibration Plate Machine Foot Massager Wood Grain Orange",
        "category": "Miscellaneous",
        "is_shippable": true,
        "total_market_value": 120,
        "items": [
            {
                "item_name": "MERACH Round Whole Body Vibration Plate Machine Foot Massager Wood Grain Orange",
                "estimated_value": 120,
                "ebay_avg_price": 0.0
            }
        ],
        "original_listing": {
            "post_id": "https://bid.westlakeliquidation.com/ui/auctions/149863/21704420",
            "title": "MERACH Whole Body Vibration Plate with Foot Massager",
            "lot_number": 6,
            "url": "https://bid.westlakeliquidation.com/ui/auctions/149863/21704420",
            "pics": [
                "21704420_1.jpg"
            ]
        },
        "reasoning": "The unique round design, wood-grain aesthetic, and included specialized accessories (foot massager nodes, push-up handles) differentiate this unit from standard rectangular plates, justifying a higher valuation in the secondary market. Reseller advice: Highlight the 'foot massager' aspect strongly in the title and description, as this targets buyers looking for combined vibration therapy and reflexology benefits, appealing to a broader wellness demographic.",
        "lot_number": 6,
        "ebay_avg_price": 0.0,
        "ebay_confidence_score": 0,
        "ebay_search_url": "https://www.ebay.com/sch/i.html?_from=R40&_nkw=MERACH+Round+Whole+Body+Vibration+Plate+Machine+Foot+Massager+Wood+Grain+Orange&_sacat=0&LH_Complete=1&LH_Sold=1"
    }
]
</script>

<script>
    const fullJsonData = JSON.parse(document.getElementById('auctionData').textContent);
    let currentFilteredData = [...fullJsonData];
    
    const tableBody = document.getElementById('data-table-body');
    const headers = document.querySelectorAll('thead th[data-column]');
    const hideFurnitureCheckbox = document.getElementById('hideFurniture');
    const hideMedicalCheckbox = document.getElementById('hideMedical');

    let currentSort = { column: 'ebay_price', isAscending: false };

    function applyFiltersAndRepopulate() {
        const hideFurniture = hideFurnitureCheckbox.checked;
        const hideMedical = hideMedicalCheckbox.checked;

        currentFilteredData = fullJsonData.filter(lot => {
            const category = (lot.category || '').toLowerCase();
            if (hideFurniture && category === 'large furniture') {
                return false;
            }
            if (hideMedical && category === 'medical devices') {
                return false;
            }
            return true;
        });

        sortData(currentSort.column, true);
    }

    function populateTable() {
        tableBody.innerHTML = '';
        const formatCurrency = (value) => (value || 0).toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 });
        const sanitizeText = (text) => (text || 'No reasoning provided.');

        currentFilteredData.forEach(lot => {
            const hasReasoning = lot.reasoning && lot.reasoning.trim() !== '';
            
            const mainRow = document.createElement('tr');
            mainRow.className = 'lot-main' + (hasReasoning ? ' expandable' : '');
            
            const encodedSearch = encodeURIComponent(lot.ebay_search_title || '');
            
            mainRow.innerHTML = `
                <td>${lot.lot_number > 0 ? lot.lot_number : ''}</td>
                <td><a href="${lot.original_listing.url}" target="_blank" title="${lot.original_listing.title}">${lot.ebay_search_title || 'N/A'}</a></td>
                <td>${lot.category || 'Miscellaneous'}</td>
                <td style="text-align: right;">${formatCurrency(lot.total_market_value)}</td>
                <td style="text-align: right;">${lot.ebay_avg_price > 0 ? formatCurrency(lot.ebay_avg_price) : 'N/A'}</td>
                <td style="text-align: right;">${lot.ebay_confidence_score > 0 ? lot.ebay_confidence_score + '%' : 'N/A'}</td>
                <td style="text-align: center;"><a href="${lot.ebay_search_url || '#'}" target="_blank">eBay</a></td>
                <td style="text-align: center;"><a href="https://www.google.com/search?q=${encodedSearch}" target="_blank">Google</a></td>
            `;
            
            tableBody.appendChild(mainRow);
            
            if (hasReasoning) {
                const reasoningRow = document.createElement('tr');
                reasoningRow.className = 'reasoning-row';
                reasoningRow.innerHTML = `<td colspan="8">${sanitizeText(lot.reasoning)}</td>`;
                tableBody.appendChild(reasoningRow);

                mainRow.addEventListener('click', () => {
                    reasoningRow.classList.toggle('visible');
                });
            }

            if (lot.items && lot.items.length > 1) {
                lot.items.forEach(subItem => {
                    const subRow = document.createElement('tr');
                    subRow.className = 'lot-sub-item';
                    
                    const subAvgPrice = subItem.ebay_avg_price || 0;
                    const subEncodedSearch = encodeURIComponent(subItem.item_name || '');
                    const subEbayUrl = `https://www.ebay.com/sch/i.html?_from=R40&_nkw=${subEncodedSearch}&_sacat=0&LH_Complete=1&LH_Sold=1`;
                    const subGoogleUrl = `https://www.google.com/search?q=${subEncodedSearch}`;

                    subRow.innerHTML = `
                        <td></td>
                        <td style="padding-left: 35px;">${subItem.item_name || 'N/A'}</td>
                        <td></td>
                        <td style="text-align: right;">${formatCurrency(subItem.estimated_value)}</td>
                        <td style="text-align: right;">${subAvgPrice > 0 ? formatCurrency(subAvgPrice) : 'N/A'}</td>
                        <td></td>
                        <td style="text-align: center;"><a href="${subEbayUrl}" target="_blank">eBay</a></td>
                        <td style="text-align: center;"><a href="${subGoogleUrl}" target="_blank">Google</a></td>
                    `;
                    tableBody.appendChild(subRow);
                });
            }
        });
    }

    function sortData(column, keepDirection = false) {
        const isNumeric = ['price', 'ebay_price', 'lot_number', 'confidence'].includes(column);

        if (!keepDirection) {
            if (currentSort.column === column) {
                currentSort.isAscending = !currentSort.isAscending;
            } else {
                currentSort.column = column;
                currentSort.isAscending = !isNumeric;
            }
        } else if (currentSort.column !== column) {
             currentSort.column = column;
             currentSort.isAscending = !isNumeric;
        }

        currentFilteredData.sort((a, b) => {
            let valA, valB;
            switch (column) {
                case 'price': valA = a.total_market_value || 0; valB = b.total_market_value || 0; break;
                case 'ebay_price': valA = a.ebay_avg_price || 0; valB = b.ebay_avg_price || 0; break;
                case 'confidence': valA = a.ebay_confidence_score || 0; valB = b.ebay_confidence_score || 0; break;
                case 'lot_number': valA = a.lot_number || 0; valB = b.lot_number || 0; break;
                case 'name': valA = (a.ebay_search_title || '').toLowerCase(); valB = (b.ebay_search_title || '').toLowerCase(); break;
                case 'category': valA = (a.category || '').toLowerCase(); valB = (b.category || '').toLowerCase(); break;
                default: return 0;
            }
            let comparison = 0;
            if (valA > valB) { comparison = 1; }
            else if (valA < valB) { comparison = -1; }
            return currentSort.isAscending ? comparison : comparison * -1;
        });
        updateSortIndicators();
        populateTable();
    }

    function updateSortIndicators() {
        headers.forEach(header => {
            const indicator = header.querySelector('.sort-indicator');
            if (header.dataset.column === currentSort.column) {
                indicator.textContent = currentSort.isAscending ? ' ▲' : ' ▼';
            } else { indicator.textContent = ''; }
        });
    }

    headers.forEach(header => { header.addEventListener('click', () => { sortData(header.dataset.column); }); });
    hideFurnitureCheckbox.addEventListener('change', applyFiltersAndRepopulate);
    hideMedicalCheckbox.addEventListener('change', applyFiltersAndRepopulate);

    sortData('ebay_price');
</script>

    <div style="text-align: center; margin-top: 2rem; font-size: 0.8em; color: #888;">
        <p>Analysis powered by:</p>
        <p><strong>Auction Analysis Model:</strong> N/A</p>
        <p><strong>eBay Cleaning Model(s):</strong> N/A</p>
    </div>

</body>
</html>
