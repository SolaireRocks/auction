
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auction Item Analysis</title>
    <style>
        :root {
            --bg-color: #1a1a1a; --table-bg-color: #2c2c2c; --header-bg-color: #3a3a3a;
            --header-hover-bg-color: #4a4a4a; --row-even-bg-color: #333333; --row-odd-bg-color: #2c2c2c;
            --border-color: #444444; --text-color: #e0e0e0; --link-color: #4a90e2;
            --link-hover-color: #81b5f5; --sort-indicator-color: #81b5f5;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); margin: 0; padding: 2rem; line-height: 1.6; }
        h1 { text-align: center; color: #ffffff; font-weight: 300; margin-bottom: 2rem; }
        .controls-container { max-width: 1600px; margin: auto; margin-bottom: 1rem; }
        .filter-container { text-align: left; padding: 10px 15px; background-color: var(--table-bg-color); border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); }
        .filter-container label { margin-right: 20px; font-size: 0.9em; cursor: pointer; user-select: none; }
        .filter-container input { vertical-align: middle; margin-right: 5px; }
        .table-container { max-width: 1600px; margin: auto; overflow-x: auto; border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); }
        table { width: 100%; border-collapse: collapse; background-color: var(--table-bg-color); border-spacing: 0; }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid var(--border-color); }
        thead th { background-color: var(--header-bg-color); color: #ffffff; font-weight: 600; position: sticky; top: 0; z-index: 10; }
        thead th[data-column] { cursor: pointer; transition: background-color 0.2s ease-in-out; user-select: none; }
        thead th[data-column]:hover { background-color: var(--header-hover-bg-color); }
        tbody tr:not(.reasoning-row):hover { background-color: var(--header-hover-bg-color); }
        td { font-size: 0.95em; }
        td:nth-child(4), td:nth-child(5), td:nth-child(6) { font-family: 'Courier New', Courier, monospace; text-align: right; white-space: nowrap; }
        td:nth-child(7), td:nth-child(8) { text-align: center; }
        a { color: var(--link-color); text-decoration: none; transition: color 0.2s ease-in-out; }
        a:hover { color: var(--link-hover-color); text-decoration: underline; }
        .sort-indicator { color: var(--sort-indicator-color); font-size: 0.8em; margin-left: 8px; display: inline-block; width: 10px; }
        .lot-main td { font-weight: bold; }
        .lot-main.expandable { cursor: pointer; }
        .lot-main:nth-child(4n+1), .lot-main:nth-child(4n+2) { background-color: var(--row-odd-bg-color); }
        .lot-main:nth-child(4n+3), .lot-main:nth-child(4n) { background-color: var(--row-even-bg-color); }
        .lot-sub-item { background-color: rgba(0,0,0,0.15) !important; }
        .lot-sub-item td { font-size: 0.9em; color: #c0c0c0; border-color: #383838; }
        .lot-sub-item td:nth-child(2) { padding-left: 35px; }
        .reasoning-row { display: none; background-color: #222 !important; }
        .reasoning-row.visible { display: table-row; }
        .reasoning-row td {
            padding: 10px 20px 10px 40px;
            font-style: italic;
            color: #b0b0b0;
            border-top: 1px dashed #555;
            white-space: normal;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <h1>Auction Item Analysis</h1>
    <div class="controls-container">
        <div class="filter-container">
            <label><input type="checkbox" id="hideFurniture"> Hide Large Furniture</label>
            <label><input type="checkbox" id="hideMedical"> Hide Medical Devices</label>
        </div>
    </div>
    <div class="table-container"><table><thead><tr><th data-column="lot_number">Lot # <span class="sort-indicator"></span></th><th data-column="name">Item Name <span class="sort-indicator"></span></th><th data-column="category">Category <span class="sort-indicator"></span></th><th data-column="price">AI Market Value <span class="sort-indicator"></span></th><th data-column="ebay_price">eBay Avg. Sold <span class="sort-indicator"></span></th><th data-column="confidence">Confidence <span class="sort-indicator"></span></th><th>eBay Search</th><th>Google Search</th></tr></thead><tbody id="data-table-body"></tbody></table></div>

<script type="application/json" id="auctionData">
    [
    {
        "ebay_search_title": "Beverage Air Horizon Series NC-7,9 Commercial Reach-In Freezer",
        "category": "Tools/Equipment",
        "is_shippable": false,
        "total_market_value": 2000,
        "items": [
            {
                "item_name": "Beverage Air Horizon Series NC-7,9 Stainless Steel Commercial Reach-In Freezer",
                "estimated_value": 2000
            }
        ],
        "original_listing": {
            "post_id": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=IOKcygcRkLTWOrPA72whsQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=nQBstZ2ZVghkRevVq6tT0w%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "title": "Beverage Air | Beverage Air Horizon Series 3 Door Stainless Steel Commerical Reach In Freezer On Casters, Great Working Condition, Very Clean!",
            "lot_number": 1,
            "url": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=IOKcygcRkLTWOrPA72whsQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=nQBstZ2ZVghkRevVq6tT0w%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "pics": [
                "nQBstZ2ZVghkRevVq6tT0w_1.jpg",
                "nQBstZ2ZVghkRevVq6tT0w_2.jpg",
                "nQBstZ2ZVghkRevVq6tT0w_3.jpg",
                "nQBstZ2ZVghkRevVq6tT0w_4.jpg",
                "nQBstZ2ZVghkRevVq6tT0w_5.jpg",
                "nQBstZ2ZVghkRevVq6tT0w_6.jpg",
                "nQBstZ2ZVghkRevVq6tT0w_7.jpg",
                "nQBstZ2ZVghkRevVq6tT0w_8.jpg",
                "nQBstZ2ZVghkRevVq6tT0w_9.jpg",
                "nQBstZ2ZVghkRevVq6tT0w_10.jpg",
                "nQBstZ2ZVghkRevVq6tT0w_11.jpg"
            ]
        },
        "reasoning": "The item is a commercial-grade reach-in freezer from Beverage Air's Horizon Series, model NC-7,9. It is in great working condition and very clean, as stated in the listing. The images provided show a stainless steel exterior, a functional digital display, and a robust compressor unit, indicating its high quality and durability. The freezer's condition and brand reputation justify its estimated value of $2000. Expert reseller advice: Highlight the 'Made in USA' feature and the specific model details to attract buyers looking for high-quality commercial equipment. I analyzed 11 images for this item.",
        "lot_number": 1
    },
    {
        "ebay_search_title": "Beverage-Air Horizon Series 3 Door Stainless Steel Reach In Refrigerator",
        "category": "Tools/Equipment",
        "is_shippable": false,
        "total_market_value": 1500,
        "items": [
            {
                "item_name": "Beverage-Air Horizon Series 3 Door Stainless Steel Reach In Refrigerator",
                "estimated_value": 1500
            }
        ],
        "original_listing": {
            "post_id": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=IOKcygcRkLTWOrPA72whsQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=ybYMwt%2fNZFKvKi8CGv%2fOyA%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "title": "Beverage Air | Beverage-Air Horizon Series 3 Door Stainless Steel Reach In Refrigerator On Casters, Powers On Great Working Condition, Very Clean!",
            "lot_number": 2,
            "url": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=IOKcygcRkLTWOrPA72whsQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=ybYMwt%2fNZFKvKi8CGv%2fOyA%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "pics": [
                "ybYMwtNZFKvKi8CGvOyA_1.jpg",
                "ybYMwtNZFKvKi8CGvOyA_2.jpg",
                "ybYMwtNZFKvKi8CGvOyA_3.jpg",
                "ybYMwtNZFKvKi8CGvOyA_4.jpg",
                "ybYMwtNZFKvKi8CGvOyA_5.jpg",
                "ybYMwtNZFKvKi8CGvOyA_6.jpg",
                "ybYMwtNZFKvKi8CGvOyA_7.jpg",
                "ybYMwtNZFKvKi8CGvOyA_8.jpg",
                "ybYMwtNZFKvKi8CGvOyA_9.jpg",
                "ybYMwtNZFKvKi8CGvOyA_10.jpg"
            ]
        },
        "reasoning": "The item is a commercial-grade refrigerator from Beverage-Air, known for its quality and durability. The 'Horizon Series' designation indicates it's part of a reputable product line. The refrigerator is described as being in great working condition, very clean, and powers on, which significantly adds to its value. The stainless steel construction and casters for mobility enhance its utility and resale potential. Given its condition and brand reputation, the estimated value is $1500. Expert reseller advice: Highlighting the ENERGY STAR certification and the stainless steel construction in the listing could attract buyers looking for energy-efficient and durable equipment. I analyzed 5 images for this item.",
        "lot_number": 2
    },
    {
        "ebay_search_title": "Randell FX Series 48in Refrigerated Chef Base",
        "category": "Tools/Equipment",
        "is_shippable": false,
        "total_market_value": 1200,
        "items": [
            {
                "item_name": "Randell FX Series 48in Refrigerated Chef Base With Pull Out Drawer",
                "estimated_value": 1200
            }
        ],
        "original_listing": {
            "post_id": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=IOKcygcRkLTWOrPA72whsQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=3x%2bY1C1GFKOnKr%2b12cc3rw%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "title": "Randell | Randell FX Series 48in Refrigerated Chef Base With Pull Out Drawer On Casters, Powers On Great Working Condition!",
            "lot_number": 3,
            "url": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=IOKcygcRkLTWOrPA72whsQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=3x%2bY1C1GFKOnKr%2b12cc3rw%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "pics": [
                "3xY1C1GFKOnKr12cc3rw_1.jpg",
                "3xY1C1GFKOnKr12cc3rw_2.jpg",
                "3xY1C1GFKOnKr12cc3rw_3.jpg",
                "3xY1C1GFKOnKr12cc3rw_4.jpg",
                "3xY1C1GFKOnKr12cc3rw_5.jpg",
                "3xY1C1GFKOnKr12cc3rw_6.jpg"
            ]
        },
        "reasoning": "The Randell FX Series 48in Refrigerated Chef Base is a high-quality commercial refrigeration unit. It is in great working condition, as indicated by the listing and visible in the images. The unit is on casters, making it mobile, and has a pull-out drawer for easy access. The digital display shows the temperature, indicating it is functional. The stainless steel construction suggests durability. The estimated value is based on similar commercial refrigeration units available in the market. Expert reseller advice: Highlight the unit's condition, functionality, and mobility in the listing. Include clear images of the digital display and the overall condition. Consider providing documentation or certification of the unit's maintenance history if available. Analyzed 6 images for this item.",
        "lot_number": 3
    },
    {
        "ebay_search_title": "Vulcan VACB36-101 Charbroiler",
        "category": "Tools/Equipment",
        "is_shippable": false,
        "total_market_value": 800,
        "items": [
            {
                "item_name": "Vulcan VACB36-101 36in Radiant Natural Gas Charbroiler",
                "estimated_value": 800
            }
        ],
        "original_listing": {
            "post_id": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=IOKcygcRkLTWOrPA72whsQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJILYqur0bmw%3d%3d&AuctionItemId=vuBq2bOWzVY5MQ9uh5%2f4ow%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "title": "Vulcan | Vulcan 36in Radiant Natural Gas Charbroiler With Front Shelf, Good Condition!",
            "lot_number": 4,
            "url": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=IOKcygcRkLTWOrPA72whsQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJILYqur0bmw%3d%3d&AuctionItemId=vuBq2bOWzVY5MQ9uh5%2f4ow%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "pics": [
                "vuBq2bOWzVY5MQ9uh54ow_1.jpg",
                "vuBq2bOWzVY5MQ9uh54ow_2.jpg",
                "vuBq2bOWzVY5MQ9uh54ow_3.jpg",
                "vuBq2bOWzVY5MQ9uh54ow_4.jpg",
                "vuBq2bOWzVY5MQ9uh54ow_5.jpg",
                "vuBq2bOWzVY5MQ9uh54ow_6.jpg",
                "vuBq2bOWzVY5MQ9uh54ow_7.jpg"
            ]
        },
        "reasoning": "The Vulcan VACB36-101 charbroiler is a commercial-grade appliance. Its value is estimated based on its condition, model, and market demand. The listing includes multiple images showing the unit's condition and features. Expert resellers should note that the gas connections and overall condition suggest it is functional and ready for use. The item is not shippable due to its size and weight, requiring local pickup or specialized freight shipping. I analyzed 7 images for this item.",
        "lot_number": 0
    },
    {
        "ebay_search_title": "Randell 48\" Mega Top Sandwich/Salad Prep Table with Refrigerated Base",
        "category": "Tools/Equipment",
        "is_shippable": false,
        "total_market_value": 1500,
        "items": [
            {
                "item_name": "Randell 9030K-7 Commercial Refrigerated Sandwich Prep Table",
                "estimated_value": 1500
            }
        ],
        "original_listing": {
            "post_id": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=IOKcygcRkLTWOrPA72whsQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=QG1LfDBb0Ftozy%2bxT6WWJA%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "title": "Randell | Randell 48\" Mega Top Sandwich/Salad Prep Table w/ Refrigerated Base On Casters, Powers On Great Working Condition!",
            "lot_number": 5,
            "url": "https://bid.fasttrackauction.net/Public/Auction/AuctionItemDetail?AuctionId=IOKcygcRkLTWOrPA72whsQ%3d%3d&pageNumber=pf6Q%2bhJtdeleDd9FfYpy9w%3d%3d&pageSize=rMS8glZbjUPmYsI0NyKOdg%3d%3d&showFilter=iBcS%2b4ptjknZQtCojbueqQ%3d%3d&sortColumn=C9SY4KX74WJIILYqur0bmw%3d%3d&AuctionItemId=QG1LfDBb0Ftozy%2bxT6WWJA%3d%3d&Filter=ajBmiK%2b33KkMkTDWtuuLmg%3d%3d",
            "pics": [
                "QG1LfDBb0FtozyxT6WWJA_1.jpg",
                "QG1LfDBb0FtozyxT6WWJA_2.jpg",
                "QG1LfDBb0FtozyxT6WWJA_3.jpg",
                "QG1LfDBb0FtozyxT6WWJA_4.jpg",
                "QG1LfDBb0FtozyxT6WWJA_5.jpg"
            ]
        },
        "reasoning": "This Randell 48\" Mega Top Sandwich/Salad Prep Table with Refrigerated Base is a commercial-grade kitchen equipment item. The listing includes 5 images showing the unit from various angles, including the interior and a close-up of the model information label. The device is in good working condition and is mounted on casters for mobility. The estimated value is based on similar commercial refrigeration units available on the market. Expert reseller advice: Cleaning and sanitizing the unit before resale can significantly increase its value. Additionally, verifying the unit's functionality and providing detailed photos can help attract more buyers. Number of images analyzed: 5.",
        "lot_number": 5
    }
]
</script>

<script>
    const fullJsonData = JSON.parse(document.getElementById('auctionData').textContent);
    let currentFilteredData = [...fullJsonData];
    
    const tableBody = document.getElementById('data-table-body');
    const headers = document.querySelectorAll('thead th[data-column]');
    const hideFurnitureCheckbox = document.getElementById('hideFurniture');
    const hideMedicalCheckbox = document.getElementById('hideMedical');

    let currentSort = { column: 'ebay_price', isAscending: false };

    function applyFiltersAndRepopulate() {
        const hideFurniture = hideFurnitureCheckbox.checked;
        const hideMedical = hideMedicalCheckbox.checked;

        currentFilteredData = fullJsonData.filter(lot => {
            const category = (lot.category || '').toLowerCase();
            if (hideFurniture && category === 'large furniture') {
                return false;
            }
            if (hideMedical && category === 'medical devices') {
                return false;
            }
            return true;
        });

        sortData(currentSort.column, true);
    }

    function populateTable() {
        tableBody.innerHTML = '';
        const formatCurrency = (value) => (value || 0).toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 });
        const sanitizeText = (text) => (text || 'No reasoning provided.');

        currentFilteredData.forEach(lot => {
            const hasReasoning = lot.reasoning && lot.reasoning.trim() !== '';
            
            const mainRow = document.createElement('tr');
            mainRow.className = 'lot-main' + (hasReasoning ? ' expandable' : '');
            
            const encodedSearch = encodeURIComponent(lot.ebay_search_title || '');
            
            mainRow.innerHTML = `
                <td>${lot.lot_number > 0 ? lot.lot_number : ''}</td>
                <td><a href="${lot.original_listing.url}" target="_blank" title="${lot.original_listing.title}">${lot.ebay_search_title || 'N/A'}</a></td>
                <td>${lot.category || 'Miscellaneous'}</td>
                <td style="text-align: right;">${formatCurrency(lot.total_market_value)}</td>
                <td style="text-align: right;">${lot.ebay_avg_price > 0 ? formatCurrency(lot.ebay_avg_price) : 'N/A'}</td>
                <td style="text-align: right;">${lot.ebay_confidence_score > 0 ? lot.ebay_confidence_score + '%' : 'N/A'}</td>
                <td style="text-align: center;"><a href="${lot.ebay_search_url || '#'}" target="_blank">eBay</a></td>
                <td style="text-align: center;"><a href="https://www.google.com/search?q=${encodedSearch}" target="_blank">Google</a></td>
            `;
            
            tableBody.appendChild(mainRow);
            
            if (hasReasoning) {
                const reasoningRow = document.createElement('tr');
                reasoningRow.className = 'reasoning-row';
                reasoningRow.innerHTML = `<td colspan="8">${sanitizeText(lot.reasoning)}</td>`;
                tableBody.appendChild(reasoningRow);

                mainRow.addEventListener('click', () => {
                    reasoningRow.classList.toggle('visible');
                });
            }

            if (lot.items && lot.items.length > 1) {
                lot.items.forEach(subItem => {
                    const subRow = document.createElement('tr');
                    subRow.className = 'lot-sub-item';
                    
                    const subAvgPrice = subItem.ebay_avg_price || 0;
                    const subEncodedSearch = encodeURIComponent(subItem.item_name || '');
                    const subEbayUrl = `https://www.ebay.com/sch/i.html?_from=R40&_nkw=${subEncodedSearch}&_sacat=0&LH_Complete=1&LH_Sold=1`;
                    const subGoogleUrl = `https://www.google.com/search?q=${subEncodedSearch}`;

                    subRow.innerHTML = `
                        <td></td>
                        <td style="padding-left: 35px;">${subItem.item_name || 'N/A'}</td>
                        <td></td>
                        <td style="text-align: right;">${formatCurrency(subItem.estimated_value)}</td>
                        <td style="text-align: right;">${subAvgPrice > 0 ? formatCurrency(subAvgPrice) : 'N/A'}</td>
                        <td></td>
                        <td style="text-align: center;"><a href="${subEbayUrl}" target="_blank">eBay</a></td>
                        <td style="text-align: center;"><a href="${subGoogleUrl}" target="_blank">Google</a></td>
                    `;
                    tableBody.appendChild(subRow);
                });
            }
        });
    }

    function sortData(column, keepDirection = false) {
        const isNumeric = ['price', 'ebay_price', 'lot_number', 'confidence'].includes(column);

        if (!keepDirection) {
            if (currentSort.column === column) {
                currentSort.isAscending = !currentSort.isAscending;
            } else {
                currentSort.column = column;
                currentSort.isAscending = !isNumeric;
            }
        } else if (currentSort.column !== column) {
             currentSort.column = column;
             currentSort.isAscending = !isNumeric;
        }

        currentFilteredData.sort((a, b) => {
            let valA, valB;
            switch (column) {
                case 'price': valA = a.total_market_value || 0; valB = b.total_market_value || 0; break;
                case 'ebay_price': valA = a.ebay_avg_price || 0; valB = b.ebay_avg_price || 0; break;
                case 'confidence': valA = a.ebay_confidence_score || 0; valB = b.ebay_confidence_score || 0; break;
                case 'lot_number': valA = a.lot_number || 0; valB = b.lot_number || 0; break;
                case 'name': valA = (a.ebay_search_title || '').toLowerCase(); valB = (b.ebay_search_title || '').toLowerCase(); break;
                case 'category': valA = (a.category || '').toLowerCase(); valB = (b.category || '').toLowerCase(); break;
                default: return 0;
            }
            let comparison = 0;
            if (valA > valB) { comparison = 1; }
            else if (valA < valB) { comparison = -1; }
            return currentSort.isAscending ? comparison : comparison * -1;
        });
        updateSortIndicators();
        populateTable();
    }

    function updateSortIndicators() {
        headers.forEach(header => {
            const indicator = header.querySelector('.sort-indicator');
            if (header.dataset.column === currentSort.column) {
                indicator.textContent = currentSort.isAscending ? ' ▲' : ' ▼';
            } else { indicator.textContent = ''; }
        });
    }

    headers.forEach(header => { header.addEventListener('click', () => { sortData(header.dataset.column); }); });
    hideFurnitureCheckbox.addEventListener('change', applyFiltersAndRepopulate);
    hideMedicalCheckbox.addEventListener('change', applyFiltersAndRepopulate);

    sortData('ebay_price');
</script>

    <div style="text-align: center; margin-top: 2rem; font-size: 0.8em; color: #888;">
        <p>Analysis powered by:</p>
        <p><strong>Auction Analysis Model:</strong> N/A</p>
        <p><strong>eBay Cleaning Model(s):</strong> N/A</p>
    </div>

</body>
</html>
